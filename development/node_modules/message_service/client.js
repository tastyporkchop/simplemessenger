var net = require('net');

var createClient = function(config) {
    return new Client(config);
}

var Client = function(config) {
    var client =  net.createConnection(config, function() {
        console.log('client connected');
    });

    client.on('data', function(data) {
        console.log(data.toString());
        client.end();
    });

    client.on('end', function() {
        console.log('client disconnected');
    });

    client.on('error', function(err) {
        console.error(err);
    });

    return client;
}

module.exports = {
    createClient: createClient
};
