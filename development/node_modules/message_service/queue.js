// a simple FIFO queue 
var events = require('events');
var util = require('util');

var Queue = function() {
    this.queue = [];
    events.EventEmitter.call(this);

    this.enqueue = function(obj) {
        this.queue.push(obj);
        this.emit('enqueue', obj);       
    }
    
    this.dequeue = function() {
        var obj = this.queue.shift();
        this.emit('dequeue', obj);       
        return obj;
    }

    this.peek = function() {
        return this.queue[this.queue.length-1];
    };
}
util.inherits(Queue, events.EventEmitter);


module.exports = {
    Queue: Queue
};
